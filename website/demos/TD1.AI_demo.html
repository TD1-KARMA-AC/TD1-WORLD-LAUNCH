<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TD1.AI â€” Live Interactive Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --td1-lilac: #C1A2FF;
            --td1-purple: #B38DFF;
            --bg-dark: #050507;
            --text-primary: #EAEAEA;
            --text-secondary: #A0A0A0;
            --glass-night: rgba(15, 15, 20, 0.6);
            --border-night: rgba(193, 162, 255, 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
            background: linear-gradient(to bottom, var(--bg-dark), #0A0A0C, #111115);
            color: var(--text-primary);
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
            padding: 20px;
        }

        .neural-particles {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(193, 162, 255, 0.8) 0%, transparent 70%);
            animation: float-particle 12s infinite ease-in-out;
        }

        @keyframes float-particle {
            0%, 100% { opacity: 0; transform: translateY(0) translateX(0); }
            25% { opacity: 0.4; transform: translateY(-20px) translateX(10px); }
            50% { opacity: 0.6; transform: translateY(-40px) translateX(-10px); }
            75% { opacity: 0.4; transform: translateY(-20px) translateX(5px); }
        }

        .demo-container {
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
            z-index: 10;
        }

        .demo-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
        }

        .demo-title {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 700;
            margin-bottom: 12px;
            background: linear-gradient(135deg, white, var(--td1-lilac));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .demo-subtitle {
            font-size: clamp(1rem, 2vw, 1.25rem);
            color: var(--text-secondary);
            margin-bottom: 24px;
        }

        .chat-container {
            background: var(--glass-night);
            backdrop-filter: blur(24px) saturate(180%);
            border: 1px solid var(--border-night);
            border-radius: 24px;
            padding: 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            overflow: hidden;
            height: 600px;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--border-night);
            background: rgba(0, 0, 0, 0.2);
        }

        .chat-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--td1-lilac);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .message {
            display: flex;
            gap: 12px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .message.user .message-avatar {
            background: linear-gradient(135deg, var(--td1-lilac), var(--td1-purple));
        }

        .message.ai .message-avatar {
            background: rgba(193, 162, 255, 0.2);
            border: 1px solid rgba(193, 162, 255, 0.3);
        }

        .message-content {
            max-width: 70%;
            padding: 14px 18px;
            border-radius: 18px;
            line-height: 1.6;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, rgba(193, 162, 255, 0.2), rgba(179, 141, 255, 0.15));
            border: 1px solid rgba(193, 162, 255, 0.3);
        }

        .message.ai .message-content {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(193, 162, 255, 0.2);
        }

        .chat-input-container {
            padding: 20px 24px;
            border-top: 1px solid var(--border-night);
            background: rgba(0, 0, 0, 0.2);
        }

        .chat-input-wrapper {
            display: flex;
            gap: 12px;
            align-items: flex-end;
        }

        .chat-input {
            flex: 1;
            padding: 14px 18px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(193, 162, 255, 0.2);
            border-radius: 24px;
            color: var(--text-primary);
            font-size: 15px;
            font-family: inherit;
            resize: none;
            min-height: 50px;
            max-height: 120px;
            transition: all 0.3s ease;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--td1-lilac);
            box-shadow: 0 0 20px rgba(193, 162, 255, 0.3);
        }

        .send-button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--td1-lilac), var(--td1-purple));
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .send-button:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 24px rgba(193, 162, 255, 0.4);
        }

        .send-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 14px 18px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--td1-lilac);
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.7; }
            30% { transform: translateY(-10px); opacity: 1; }
        }

        .demo-panel {
            background: var(--glass-night);
            backdrop-filter: blur(24px) saturate(180%);
            border: 1px solid var(--border-night);
            border-radius: 20px;
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .panel-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--td1-lilac);
        }

        .btn {
            padding: 12px 24px;
            background: rgba(193, 162, 255, 0.15);
            border: 1px solid rgba(193, 162, 255, 0.3);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            margin-right: 12px;
            margin-bottom: 12px;
        }

        .btn:hover {
            background: rgba(193, 162, 255, 0.25);
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .chat-container {
                height: 500px;
            }

            .message-content {
                max-width: 85%;
            }
        }
    
        .exit-button {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            padding: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: var(--text-primary);
            font-size: 24px;
            font-weight: 300;
            line-height: 1;
            cursor: pointer;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        .exit-button:hover {
            background: rgba(239, 68, 68, 0.8);
            border-color: rgba(239, 68, 68, 0.5);
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(239, 68, 68, 0.4);
        }

        </style>
</head>
<body>
    <button class="exit-button" id="exitButton" onclick="returnToOverview()" style="display: none;" title="Return to Product Overview">Ã—</button>
    

    <div class="neural-particles" id="particles"></div>

    <div class="demo-container">
        <div class="demo-header">
            <h1 class="demo-title">âš¡ TD1.AI</h1>
            <p class="demo-subtitle">Complete AI platform with beautiful chat interfaces</p>
        </div>

        <!-- Chat Interface -->
        <div class="chat-container">
            <div class="chat-header">
                <div class="chat-title">
                    <span>âš¡</span>
                    <span>TD1.AI Chat</span>
                </div>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message ai">
                    <div class="message-avatar">âš¡</div>
                    <div class="message-content">
                        Hello! I'm TD1.AI. How can I help you today?
                    </div>
                </div>
            </div>
            <div class="chat-input-container">
                <div class="chat-input-wrapper">
                    <textarea 
                        id="chatInput" 
                        class="chat-input" 
                        placeholder="Type your message..."
                        rows="1"
                    ></textarea>
                    <button class="send-button" id="sendButton" onclick="sendMessage()">
                        âž¤
                    </button>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="demo-panel">
            <div class="panel-title">ðŸ’¬ Quick Actions</div>
            <button class="btn" onclick="sendQuickMessage('Explain quantum computing in simple terms')">Explain Quantum Computing</button>
            <button class="btn" onclick="sendQuickMessage('Write a short poem about AI')">Write a Poem</button>
            <button class="btn" onclick="sendQuickMessage('Help me plan a project timeline')">Project Planning</button>
            <button class="btn" onclick="sendQuickMessage('What are the benefits of local AI?')">Local AI Benefits</button>
            <button class="btn" onclick="clearChat()">Clear Chat</button>
        </div>
    </div>

    <script>
        // Initialize particles
        const particles = document.getElementById('particles');
        for (let i = 0; i < 30; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = `${Math.random() * 100}%`;
            particle.style.top = `${Math.random() * 100}%`;
            particle.style.animationDelay = `${Math.random() * 10}s`;
            particle.style.animationDuration = `${10 + Math.random() * 10}s`;
            particles.appendChild(particle);
        }

        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const sendButton = document.getElementById('sendButton');

        // Auto-resize textarea
        chatInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });

        // Send on Enter (Shift+Enter for new line)
        chatInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        // Send Message
        function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;

            // Add user message
            addMessage('user', message);
            chatInput.value = '';
            chatInput.style.height = 'auto';

            // Show typing indicator
            const typingId = showTypingIndicator();

            // Simulate AI response
            setTimeout(() => {
                removeTypingIndicator(typingId);
                const response = generateResponse(message);
                addMessage('ai', response);
            }, 1000 + Math.random() * 1000);
        }

        // Add Message
        function addMessage(type, content) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = type === 'user' ? 'ðŸ‘¤' : 'âš¡';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.textContent = content;
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            chatMessages.appendChild(messageDiv);
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Show Typing Indicator
        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message ai';
            typingDiv.id = 'typing-indicator';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'âš¡';
            
            const typingContent = document.createElement('div');
            typingContent.className = 'message-content';
            typingContent.innerHTML = '<div class="typing-indicator"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div>';
            
            typingDiv.appendChild(avatar);
            typingDiv.appendChild(typingContent);
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            return 'typing-indicator';
        }

        // Remove Typing Indicator
        function removeTypingIndicator(id) {
            const typing = document.getElementById(id);
            if (typing) typing.remove();
        }

        // Generate Response
        function generateResponse(userMessage) {
            const lowerMessage = userMessage.toLowerCase();
            
            if (lowerMessage.includes('quantum')) {
                return 'Quantum computing uses quantum mechanical phenomena like superposition and entanglement to perform computations. Unlike classical bits (0 or 1), quantum bits (qubits) can exist in multiple states simultaneously, enabling parallel processing and potentially solving certain problems exponentially faster than classical computers.';
            } else if (lowerMessage.includes('poem')) {
                return `In circuits deep and code so bright,
AI minds awaken in the night.
With neural paths that twist and turn,
New knowledge they begin to learn.
From data vast and patterns clear,
Intelligence draws ever near.`;
            } else if (lowerMessage.includes('project') || lowerMessage.includes('timeline')) {
                return 'To plan a project timeline: 1) Define clear milestones and deliverables, 2) Break work into tasks with dependencies, 3) Estimate time for each task, 4) Identify critical path, 5) Add buffer time for unknowns, 6) Set review checkpoints. Would you like help creating a specific timeline?';
            } else if (lowerMessage.includes('local ai') || lowerMessage.includes('benefits')) {
                return 'Local AI benefits include: Full data privacy (no cloud transmission), Zero ongoing API costs, No rate limits or downtime, Complete customization, Offline operation, Permanent ownership, No vendor lock-in, and Faster response times. Perfect for sensitive data and high-volume applications.';
            } else if (lowerMessage.includes('hello') || lowerMessage.includes('hi')) {
                return 'Hello! I\'m TD1.AI, your intelligent assistant. I can help with explanations, creative tasks, planning, and more. What would you like to explore?';
            } else if (lowerMessage.includes('help')) {
                return 'I can help with: Explaining complex topics, Writing creative content, Planning projects, Answering questions, Problem-solving, and more. Just ask me anything!';
            } else {
                return `I understand you're asking about "${userMessage}". This is a demo interface showcasing TD1.AI's beautiful glassmorphic chat UI. In production, this would connect to your AI backend for real responses. The interface features smooth animations, responsive design, and a premium user experience.`;
            }
        }

        // Send Quick Message
        function sendQuickMessage(message) {
            chatInput.value = message;
            sendMessage();
        }

        // Clear Chat
        function clearChat() {
            if (confirm('Clear all messages?')) {
                chatMessages.innerHTML = `
                    <div class="message ai">
                        <div class="message-avatar">âš¡</div>
                        <div class="message-content">
                            Hello! I'm TD1.AI. How can I help you today?
                        </div>
                    </div>
                `;
            }
        }
    
        // Exit button functionality
        function returnToOverview() {
            try {
                // Check if we're in an iframe
                if (window.self !== window.top) {
                    // We're in an iframe - try to switch parent tab
                    try {
                        if (window.parent && typeof window.parent.switchTab === 'function') {
                            window.parent.switchTab('overview');
                            return;
                        }
                    } catch (e) {
                        console.log('Cannot access parent.switchTab, trying alternative method');
                    }
                    
                    // Fallback: navigate parent to overview
                    const currentUrl = window.location.href;
                    let productsUrl;
                    
                    if (currentUrl.startsWith('file://')) {
                        productsUrl = '../PRODUCTS_INDEX.html';
                    } else {
                        productsUrl = window.location.origin + '/website/PRODUCTS_INDEX.html';
                    }
                    
                    try {
                        window.parent.location.href = productsUrl;
                    } catch (e) {
                        console.error('Cannot navigate parent:', e);
                    }
                } else {
                    // We're not in an iframe - navigate normally
                    const productId = sessionStorage.getItem('returnToProduct');
                    const currentUrl = window.location.href;
                    let productsUrl;
                    
                    if (productId) {
                        if (currentUrl.startsWith('file://')) {
                            productsUrl = '../PRODUCTS_INDEX.html#' + productId + '-overview';
                        } else {
                            productsUrl = window.location.origin + '/website/PRODUCTS_INDEX.html#' + productId + '-overview';
                        }
                    } else {
                        if (currentUrl.startsWith('file://')) {
                            productsUrl = '../PRODUCTS_INDEX.html';
                        } else {
                            productsUrl = window.location.origin + '/website/PRODUCTS_INDEX.html';
                        }
                    }
                    
                    window.location.href = productsUrl;
                }
            } catch (error) {
                console.error('Error in returnToPricing:', error);
            }
        }
        
                // Hide exit button when in iframe (user can switch tabs in parent)
        window.addEventListener('DOMContentLoaded', function() {
            const isInIframe = window.self !== window.top;
            
            const exitButton = document.getElementById('exitButton');
            if (exitButton) {
                // Hide exit button if in iframe - user can switch tabs in parent modal
                if (isInIframe) {
                    exitButton.style.display = 'none';
                } else {
                    // Only show if not in iframe and we have a productId
                    const productId = sessionStorage.getItem('returnToProduct');
                    if (productId) {
                        exitButton.style.display = 'block';
                    }
                }
            }
        });

    </script>
</body>
</html>
